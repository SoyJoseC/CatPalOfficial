{% extends 'base.html' %}

{% block title %}
    <title>Group "{{group.name}}" Documents</title>
{% endblock %}

{% block content %}



<style>
    #listaDoc li{

        height: 75px;
        width: inherit;
        background-color: rgba(0, 140, 255, 0.096);
        border-left: 5px solid rgba(0, 140, 255, 0.616);
        margin: 15px;
        padding-left: 10px;
        border-radius: 5px;
        overflow: hidden;
        
     
    }
    #listaDoc li:hover{
        /*background-color: lavenderblush;*/
        transform: scale(1.03);
    }
    
</style>


<div class="row">
    <div class="col-10">
        <h1>Group "{{group.name}}"</h1>





        <br>
        <h3>Detalles</h3>
        <hr>
        <p> <b>Id:</b> {{ group.mendeley_id }}</p>
        <p> <b>Administrador:</b> {{ group.mendeley_username }}</p>



        <br>
        <br>
        <h3>Documentos</h3>

        <ol class ="overflow-auto" id="listaDoc">
            {% for doc in documents %}
                <li>
                    <a href="{% url 'document_detail' group.mendeley_id doc.mendeley_id %}">{{doc.title|truncatechars:100}}</a>
                    {{doc.tags}}
                    <br />
                    <small><a href="{% url 'document_edit' group.mendeley_id doc.mendeley_id %}">(Edit)</a>
                    </small>-<small><a href="{% url 'delete_doc' doc.pk %}">(Delete)</a></small><br />
                </li>
            {% empty %}
                <p>El grupo no contiene documentos actualmente.</p>
            {% endfor %}

        </ol>
        <div>
                {% if documents.has_other_pages %}
                    <nav aria-label="Page navigation">   
                            <ul class="pagination">
                                {% if documents.number != 1 %}
                                    <li class="page-item">
                                  <a class="page-link" href="?page=1" aria-label="Previous">
                                    <span aria-hidden="true">&laquo;</span>
                                    <span class="sr-only">begin</span>
                                  </a>
                                </li>
                                {% endif %}
                                   


                                {% for n in documents.paginator.page_range %}
                                  {% if documents.number == n %}
                                    <li class="page-item active">
                                      <span class="page-link">{{ n }}<span class="sr-only">(current)</span></span>
                                    </li>
                                  {% elif n > documents.number|add:'-3' and n < documents.number|add:'3' %}
                                    <li class="page-item"><a class="page-link" href="?page={{ n }}">{{ n }}</a></li>
                                  {% endif %}
                                {% endfor %}

                                {% if documents.has_next %}
                                  <li class="page-item">
                                    <a class="page-link" href="?page={{ documents.paginator.num_pages }}" aria-label="Next">
                                      <span aria-hidden="true">&raquo;</span>
                                      <span class="sr-only">end</span>
                                    </a>
                                  </li>
                                {% endif %}   
                            </ul> 
                        </nav>
            {% endif %}
        </div>

        </div>
    <div class="col-2 jumbotron   text-center fixed" style="height: 20rem;">
        <h3>Acciones</h3>
        {% if user.is_staff %}
        <a href="{%url 'admin_group_details' group.mendeley_id %}"><button class="btn btn-primary">Administrar Grupo {{group.name}}</button></a>
        <a href="{%url 'group_categories' group.mendeley_id %}"><button class="btn btn-primary">Editar Categor√≠as del Grupo</button></a>
        {% endif %}
    </div>
</div>

{% endblock %}
